Lotus Notes Locations & DST

Thomas Zehetbauer (thomasz@HOSTMASTER.ORG)
Thu, 8 Apr 1999 12:25:08 +0200 

--HlL+5n6rz5pIUxbD
Content-Type: text/plain; charset=us-ascii

Lotus Notes may under some circumstances silently change the System time. This happend here 
with "Location"="Office (Network)", "Local time zone"="Central European Time", and 
"Daylight savings time"="Not observed here". Because this could cause severe problems with 
any software that uses time stamping any application not specifically designed for time 
maintainance should prompt the user before tampering with the system time.

Thomas

Everybody wants to go to heaven, but nobody wants to die.
-------------------------------------------------
  T h o m a s   Z e h e t b a u e r   ( TZ251 )
  PGP encrypted mail preferred - KeyID 96FFCB89
       mail pgp-key-request@hostmaster.org
-------------------------------------------------

--HlL+5n6rz5pIUxbD
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia

iQEVAgUBNwyEA2D1OYqW/8uJAQGsTwf7B7hTapwlTG7XKB2Sk/W0ofCYw7Ygv8mB
tnVSzrxTKoaGlZEnDM4mwCZKNCMkN31rT1xBWUMeeDsozvA+U/O+qWxOFK5w1rGI
JlxdoyOxuHUnR88aZemjWZ8tiR71mo0u7o8PzdvJCfZfmjU2Fltj6Bo3GFFmvEmb
t2l+cVZWqQ03ED8+4soZ2oEsnKgSKnnbyvt2y6qqCpFAYI3QBMN5j93qMDOmA8Yw
JhiOojnXpEE6xCtNXDX5fCH/pJrw2eFCZHQKkZX2K7s/JekTlInsfx1daU5nDvBt
c/4dgmCShWLf/sF2BLAHN+YclPCYbR72E+t+sWitt06Wb+EUgwARcw==
=GZBH
-----END PGP SIGNATURE-----

--HlL+5n6rz5pIUxbD--

-----------------------------------------------------------------------------------

GMT (Was: Re: Lotus Notes Locations & DST)

Ken Williams (jkwilli2@UNITY.NCSU.EDU)
Thu, 8 Apr 1999 16:27:03 -0400 

as somebody mentioned recently (i think on ntbugtraq?), i think all
"mission critical" or "production" or [insert favorite buzzword here]
apps, servers and networks should use GMT, and only GMT, to avoid such
problems. NT4+SP4 apparently doesn't like daylite savings time in certain
situations, so that's all the more reason to stick with GMT.

Ken Williams
jkwilli2@csc.ncsu.edu

Packet Storm Security                 http://packetstorm.genocide2600.com/
Trinux: Linux Security Toolkit http://www.trinux.org/ ftp://ftp.trinux.org
PGP DH/DSS/RSA Public Keys     http://packetstorm.genocide2600.com/pgpkey/
E.H.A.P. VP & Head of Operations http://www.ehap.org/   tattooman@ehap.org
NCSU Computer Science    http://www.csc.ncsu.edu/    jkwilli2@csc.ncsu.edu
SHANG: Secure Highly Available Networking Group http://shang.csc.ncsu.edu/

-----------------------------------------------------------------------------------

Lotus Notes Locations & DST

Anto Veldre (anto.veldre@TALINVEST.EE)
Fri, 9 Apr 1999 09:54:41 +0300 

> T h o m a s   Z e h e t b a u e r   ( TZ251 )
wrote:

>Lotus Notes may under some circumstances silently change the System time.
>This happend here with "Location"="Office (Network)", "Local time
zone"="Central European Time", and "Daylight savings >time"="Not observed
here".
>Because this could cause severe problems with any software that uses time
stamping any application not specifically >designed for time maintainance
should prompt the user before tampering with the system time.
>

I am currently using the following Notes client program on my laptop:
Lotus 4.6a [Intl] 21 November 1997.

Some notes considering the summer time switching.
"Observe Daylight savings" is checked in my Notes client,
"Automatically adjust clock" is checked in "Control Panel->Date&Time"
Operating system is Win95 OSR2.

It happened last month that an important meeting was
appointed ( 23 of March 1999 10:00 , local time). After switching
to summer time (02:00 changed to 03:00 local time early morning
at 23rd of March, automatically, by OS), the meeting moved +1 hour
and appeared at 11:00.

I checked this with another party of the meeting, he saw the same
results on his PC. Luckily we both remebered the actual time....

I use Notes calendar function too rarely to make some/other final
conclusion.

Anto Veldre,
anto.veldre@talinvest.ee

-----------------------------------------------------------------------------------

Re: Lotus Notes Locations & DST

Peter Zuerrer (pzu@CH.IBM.COM)
Fri, 9 Apr 1999 10:41:20 +0200 

   It may be worthwhile to verify that your Notes servers do correctly
   handle daylight savings time (DST). An additional parameter must be
   added to each server's NOTES.INI file to specify DST start and end dates
   in the country where the server is located. See the setting of the
   environment variable DSTLaw below. The syntax is somewhat similar to the
   TCP/IP TZ variable.

   In countries that observe DST, Notes clients must be set to observe DST.
   An additional parameter must be added to each user's NOTES.INI file to
   specify DST start and end dates in the user's country. See the setting
   of the environment variable DSTLaw below. The syntax is somewhat similar
   to the TCP/IP TZ variable.

   The following script opens the names file NAMES.NSF, looks for the
   locations documents in the database, and changes the flag controlling
   whether or not DST should be observed. The script could be placed in a
   button hotspot in a note and sent by the Notes administrator to all
   users...

---------------------------------------------------------------------------
----------------
Sub Click(Source As Button)
     Dim session As New notessession
     Call session.SetEnvironmentVar( "DSTLaw", "3 -1 1 10 -1 1",1)
     Dim namevar As String
     namevar = session.getenvironmentstring("NAMES",1)
     If namevar = "" Then
          namevar = "names.nsf"
     End If
     Dim db As New notesdatabase ("",namevar)
     If db.isopen Then

          Dim view As NotesView
          Dim doc As NotesDocument

          Set view = db.GetView("Locations")
          Set doc = view.GetFirstDocument

          While Not(doc Is Nothing)

               doc.DST = "1"
               Call doc.Save( True, True )
               Set doc = view.GetNextDocument(doc)
          Wend
          Messagebox "All your Notes Locations have been set to Observe
Daylight Saving",,"Daylight Savings Time"
     Else
          Messagebox "You do not have a  Private Address Book named " +
namevar,,"Daylight Savings Time"
     End If
End Sub
---------------------------------------------------------------------------
----------------

Peter Zuerrer

