Date: Mon, 15 Feb 1999 10:59:40 -0500 (EST)
From: X-Force <xforce@iss.net>
To: alert@iss.net
Cc: X-Force <xforce@iss.net>
Subject: ISSalert: ISS Security Advisory: Buffer Overflow in "Super" package in Debian Linux

TO UNSUBSCRIBE: email "unsubscribe alert" in the body of your message to
majordomo@iss.net  Contact alert-owner@iss.net for help with any problems!
---------------------------------------------------------------------------


-----BEGIN PGP SIGNED MESSAGE-----

ISS Security Advisory
February 15, 1999

Buffer Overflow in "Super" package in Debian Linux


Synopsis:

Internet Security Systems (ISS) X-Force has discovered a vulnerability in
the system administration utility, "Super".  Super is used by 
administrators to allow certain users to execute commands with root
privileges.  The vulnerability is distributed with Debian Linux.  It may
allow local attackers to compromise root access.  Super is a GNU
copylefted package that is distributed with recent Debian Linux
distributions, but it can be installed and configured for many Unix
variants.  


Affected versions:

ISS X-Force has determined that version 3.9.6 through version 3.11.6 are
vulnerable.  All versions of Super distributed with Debian Linux are
vulnerable.  Execute the following command to determine version
information:

# /usr/bin/super -V


Fix Information:

Super 3.11.7 is available at:
ftp.ucolick.org:/pub/users/will/super-3.11.7.tar.gz

The new version of Super will be available soon on the mirror:
ftp.onshore.com:/pub/mirror/software/super

Please refer to these locations for fixes which are included in
Super version 3.11.7.

Description:

Super is a utility that allows authorized users to execute commands with
root privileges.  It is intended to be an alternate to setuid scripts,
which are inherently dangerous.  A buffer overflow exists in Super that
may allow attackers to take advantage of its setuid configuration to gain
root access.


Recommended Action:

Version 3.11.7 should be installed immediately. Administrators should 
take care to disable setuid root utilities that are not used by regular 
users.  To disable Super permanently, execute the following command 
as root to disable the setuid bit:

# chmod 755 /usr/bin/super

__________

Copyright (c) 1999 by Internet Security Systems, Inc.

Permission is hereby granted for the redistribution of this alert
electronically.  It is not to be edited in any way without express
consent of X-Force.  If you wish to reprint the whole or any part of this
alert in any other medium excluding electronic medium, please e-mail
xforce@iss.net for permission.

Disclaimer:

The information within this paper may change without notice. Use of this
information constitutes acceptance for use in an AS IS condition. There
are NO warranties with regard to this information. In no event shall the
author be liable for any damages whatsoever arising out of or in
connection with the use or spread of this information. Any use of this
information is at the user's own risk.

X-Force PGP Key available at: http://www.iss.net/xforce/sensitive.html,
as well as on MIT's PGP key server and PGP.com's key server.

X-Force Vulnerability and Threat Database: http://www.iss.net/xforce

Please send suggestions, updates, and comments to: X-Force
<xforce@iss.net> of Internet Security Systems, Inc.

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3a
Charset: noconv

iQCVAwUBNshBDjRfJiV99eG9AQEswgP/a76fI4GVtLraVVuBAWNG6bY2moihbs54
62kT4Zf+oLzgMl4HbpFjFAzXjhL0fQdMzs26LTk1W8MC0idvRj9p65JMajkalUL+
78OcrkWqHIWH6mQ9ijnGJVW9x1LCEAXOD3EYl+PSTnR02WR2z0DNj30bdEUjp2LN
DfSFhqndj5o=
=xVb7
-----END PGP SIGNATURE-----

-----------------------------------------------------------------------

Date: Thu, 18 Feb 1999 10:22:01 +0100
From: joey@FINLANDIA.INFODROM.NORTH.DE
Reply-To: Martin Schulze <joey@infodrom.north.de>
To: BUGTRAQ@netspace.org
Subject: [SECURITY] New versions of super fixes two buffer overflows

====================================================================
Debian GNU/Linux Security                        February 15th, 1999


We have received reports about two buffer overflows in the super
package which was distributed as part of Debian GNU/Linux.  Firstly,
for per-user .supertab files super didn't check for a buffer overflow
when creating the path to the user's .supertab file.  Secondly another
buffer overflow did allow ordinary users to overflow super by creating
a nasty personal .supertab file.

We recommend you upgrade your super packages immediately.

wget url
        will fetch the file for you
dpkg -i file.deb
        will install the referenced file.

Debian GNU/Linux 2.0 alias hamm, upcoming 2.1 alias slink and unstable
----------------------------------------------------------------------

  The binary package is the same for all distributions of Debian
  GNU/Linux since it doesn't link to any special library.

  Source archives:
    ftp://ftp.debian.org/debian/dists/potato/main/source/admin/super_3.11.7-1.diff.gz
      MD5 checksum: ad2b28848ab83824e9a4256fb5610c6a
    ftp://ftp.debian.org/debian/dists/potato/main/source/admin/super_3.11.7-1.dsc
      MD5 checksum: a380591182beb282aca04f52c90a99d2
    ftp://ftp.debian.org/debian/dists/potato/main/source/admin/super_3.11.6.orig.tar.gz
      MD5 checksum: 591cdcc50c9cfbaabc019889796dc43f

  Intel architecture:
    ftp://ftp.debian.org/debian/dists/potato/main/binary-i386/admin/super_3.11.7-1.deb
      MD5 checksum: 1979e2fa15b0e2161d6e3fae4ff5fa92

  Motorola 68xxx architecture:
    ftp://ftp.debian.org/debian/dists/potato/main/binary-m68k/admin/super_3.11.7-1.deb
      MD5 checksum: 479dc49e7fe996bba35c1c2b94c155bd

  PowerPC architecture:
    ftp://ftp.debian.org/debian/dists/potato/main/binary-powerpc/admin/super_3.11.7-1.deb
      MD5 checksum: 20d464d1d3f4322d393e825377d20cfe

Although the upcoming release of Debian will be made for the Sparc
architecture as well there is no fixing package at the moment.  It
will be uploaded and installed within the next days.

For not yet released architectures please refer to the appropriate
directory ftp://ftp.debian.org/debian/dists/sid/binary-$arch/ .  The
package is likely to be recompiled for them within the next few days.

--
Debian GNU/Linux      .    Security Managers     .   security@debian.org
              debian-security-announce@lists.debian.org
  Christian Hudon     .     Wichert Akkerman     .     Martin Schulze
<chrish@debian.org>   .   <wakkerma@debian.org>  .   <joey@debian.org>

-----------------------------------------------------------------------

Date: Thu, 18 Feb 1999 20:54:52 -0800
From: William Deich <will@UCOLICK.ORG>
To: BUGTRAQ@netspace.org
Subject: Re: BUGTRAQ Digest - 17 Feb 1999 to 18 Feb 1999 (#1999-45)

der Mouse wrote:

> Subject: Re: ISSalert: ISS Security Advisory: Buffer Overflow in "Super"
...
> Does anyone (who is willing to talk) know anything more about this?
> One site I work at has a version of super earlier than 3.9.6 installed,
> and the advisory neither states that any versions are *not* vulnerable
> (except, implicitly, 3.11.7) nor describes the vulnerability in enough
> detail for me to test our version.
>
Generally, super v3.9.6 - v3.11.6 contains two known buffer overflow
problems.  The specific problem demonstrated by ISS X-Force to gain local
root access was not introduced until _after_ 3.9.6, but all versions in
that range had one problem or the other.  (If you want complete details,
please email me.  In the usual manner of buffer overflows, the exploit
is almost trivial if you know what to attack, so I'm not willing to
publish on bugtraq the exact line of the code where the problem occurs.)

Even you have an older version of super than 3.9.6, I urge you to upgrade,
because a quick perusal of the "WhatsNew" file in the package shows that
various other bugs -- not generally root-access bugs -- have been fixed
over the years.  Note that 3.9.6 is already three years old; other
released versions go back to 1994 or so.

It turned out that the announcement of the local root exploit caused
more people to report more problems, and as a result super has had two
quick updates, and the current version of super is 3.11.9.

As usual, the home location is:

    ftp.ucolick.org:/pub/users/will/super-3.11.9.tar.gz

Or, if you prefer to patch:

    ftp.ucolick.org:/pub/users/will/super-3.11.6-3.11.9
    ftp.ucolick.org:/pub/users/will/super-3.11.7-3.11.9
    ftp.ucolick.org:/pub/users/will/super-3.11.8-3.11.9

These should shortly appear on the ftp.onshore.com mirror at
        ftp.onshore.com:/pub/mirror/software/super/

Finally, one small correction to the X-Force announcement, which said that
super is gnu copyleft'd.  Actually, you are permitted to redistribute it
and/or modify it under the terms of either the GNU license or Larry
Wall's "Artistic License"; take your pick.  (I'm agnostic :-)

-Will
--
William Deich
UCO / Lick Observatory     |  Internet: will@ucolick.org
University of California   |  Phone: (831) 459-3913
Santa Cruz, CA  95064      |  Fax:   (831) 426-3115

